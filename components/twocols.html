<script props>
  // safelist: max-w-[600px] max-w-[300px] max-w-[200px] max-w-[400px] max-w-[150px] max-w-[450px]
  const widthMap = {
    'w-1/2': '300',
    'w-1/3': '200',
    'w-2/3': '400',
    'w-1/4': '150',
    'w-3/4': '450',
  };

  const validWidths = Object.keys(widthMap);
  const widthLeftKey = validWidths.includes(props.widthLeft) ? props.widthLeft : 'w-1/2';
  const widthRightKey = validWidths.includes(props.widthRight) ? props.widthRight : 'w-1/2';

  module.exports = {
    hAlign: ['left', 'center', 'right', 'justify'].includes(props.hAlign) ? props.hAlign : "left",
    vAlign: ['top', 'middle', 'bottom'].includes(props.vAlign) ? props.vAlign : "top",
    widthLeft: widthMap[widthLeftKey],
    widthRight: widthMap[widthRightKey],
    variant: `${widthLeftKey}--${widthRightKey}`,
    shouldStack: props.isResponsive !== false && props.isResponsive !== "false",
  };
</script>
<if condition="shouldStack">
  <div data-component="twocols-div" data-component-variant="{{variant}}" class="text-0">
    <outlook>
      <table align="center" border="0" cellspacing="0" cellpadding="0" width="600">
        <tr>
          <td align="{{hAlign}}" valign="{{vAlign}}" width="{{widthLeft}}" class="text-0">
    </outlook>
    <div
      class="gmailResponsiveCol {{`max-w-[${widthLeft}px]`}} w-full {{`text-${hAlign}`}} {{`align-${vAlign}`}} inline-block sm:w-full sm:max-w-full font-normal font-base dark:text-white ogsc:text-white text-base">
      <slot:leftColumn />
      <yield />
    </div>

    <outlook>
      </td>
      <td align="{{hAlign}}" valign="{{vAlign}}" width="{{widthRight}}" class="text-0">
    </outlook>

    <div
      class="gmailResponsiveCol {{`max-w-[${widthRight}px]`}} w-full {{`text-${hAlign}`}} {{`align-${vAlign}`}} inline-block sm:w-full sm:max-w-full font-normal font-base dark:text-white ogsc:text-white text-base">
      <slot:rightColumn />
      <yield />
    </div>

    <outlook>
      </td>
      </tr>
      </table>
    </outlook>
  </div>
</if>
<else>
  <table class="w-full" data-component="twocols-div" data-component-variant="{{variant}}">
    <tr>
      <th width="{{widthLeft}}" valign="{{vAlign}}" align="{{hAlign}}"
        class="{{`max-w-[${widthLeft}px]`}} {{`text-${hAlign}`}} {{`align-${vAlign}`}} font-base dark:text-white ogsc:text-white">
        <slot:leftColumn />
        <yield />
      </th>
      <th width="{{widthRight}}" valign="{{vAlign}}" align="{{hAlign}}"
        class="{{`max-w-[${widthRight}px]`}} {{`text-${hAlign}`}} {{`align-${vAlign}`}} font-base dark:text-white ogsc:text-white">
        <slot:rightColumn />
        <yield />
      </th>
    </tr>
  </table>
</else>